<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pedidos - Melhor Bocado</title>

    <!-- SDK do Zoho Creator v2 -->
    <script src="https://js.zohostatic.com/creator/widgets/version/2.0/widgetsdk-min.js"></script>

    <!-- Estilos -->
    <link rel="stylesheet" href="css/widget.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header com Logo -->
      <header class="app-header">
        <img
          src="https://melhorbocado.com.br/wp-content/uploads/2023/12/logo.png"
          alt="Melhor Bocado"
          class="header-logo"
        />
        <div class="header-text">
          <h1>Novo Pedido</h1>
          <p>Selecione o cliente para iniciar</p>
        </div>
      </header>

      <!-- Status/Alertas -->
      <div id="status" class="status-message loading visible">
        <div class="spinner"></div>
        <span>Conectando ao sistema...</span>
      </div>

      <!-- Card Principal - Seleção de Cliente -->
      <div class="card">
        <h2 class="card-title">Selecionar Cliente</h2>

        <!-- Badge do Cliente Selecionado -->
        <div id="selected-client" class="selected-client-badge">
          <div class="client-avatar" id="selected-avatar">MB</div>
          <div class="info">
            <div class="name" id="selected-name">Nome do Cliente</div>
            <div class="details" id="selected-details">CPF/CNPJ</div>
          </div>
          <button
            type="button"
            class="btn-clear"
            onclick="WidgetApp.clearClient()"
            title="Limpar seleção"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>

        <!-- Campo de Busca -->
        <div class="search-container">
          <svg
            class="search-icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
          </svg>
          <input
            type="text"
            id="search-cliente"
            class="search-input"
            placeholder="Buscar cliente por nome, razão social ou CNPJ..."
            autocomplete="off"
          />
        </div>

        <!-- Lista de Clientes -->
        <div id="client-list" class="client-list">
          <!-- Clientes serão carregados aqui dinamicamente -->
          <div class="empty-state">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="1.5"
            >
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
            <p>Digite para buscar clientes</p>
          </div>
        </div>
      </div>

      <!-- Debug Log (remover em produção) -->
      <div id="debug" class="debug-panel">
        <strong style="color: #81c784">Debug Log</strong>
      </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
